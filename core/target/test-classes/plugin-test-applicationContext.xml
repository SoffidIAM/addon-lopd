<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

	<!-- ========================= HIBERNATE PROPERTIES ========================= -->

	<bean id="hibernate-addon-lopd" class="es.caib.seycon.ng.spring.AddonHibernateBean">
		<property name="mappingResources">
			<list>
				<value>com/soffid/iam/addons/lopd/model/RolFitxerEntity.hbm.xml</value>
				<value>com/soffid/iam/addons/lopd/model/AdministradorSeguretatOrganitzatiuFitxerEntity.hbm.xml</value>
				<value>com/soffid/iam/addons/lopd/model/ResponsableSeguretatOrganitzatiuFitxerEntity.hbm.xml</value>
				<value>com/soffid/iam/addons/lopd/model/FitxerEntity.hbm.xml</value>
			</list>
		</property>
		<property name="hibernateProperties">
			<props>
				<prop key="hibernate.hbm2ddl.auto">update</prop>
			</props>
		</property>
	</bean>

	<!-- ========================= HIBERNATE DAOs ========================= -->
	<!-- RolFitxerEntity Entity Proxy with inner RolFitxerEntity Entity implementation -->
	<bean id="lopd-rolFitxerEntityDao" class="org.springframework.aop.framework.ProxyFactoryBean">
		<property name="target">
			<bean class="com.soffid.iam.addons.lopd.model.RolFitxerEntityDaoImpl">
				<property name="sessionFactory"><ref bean="sessionFactory"/></property>
				<lookup-method name="getFitxerEntityDao" bean="lopd-fitxerEntityDao"/>
				<lookup-method name="getRolEntityDao" bean="rolEntityDao"/>
				<lookup-method name="getAuditoriaEntityDao" bean="auditoriaEntityDao"/>
				<lookup-method name="getDispatcherEntityDao" bean="dispatcherEntityDao"/>
			</bean>
		</property>
		<property name="proxyInterfaces">
			<value>com.soffid.iam.addons.lopd.model.RolFitxerEntityDao</value>
		</property>
		<property name="interceptorNames">
			<list>
				<value>hibernateInterceptor</value>
				<value>daoInterceptor-*</value>
			</list>
		</property>
	</bean>

	<!-- AdministradorSeguretatOrganitzatiuFitxerEntity Entity Proxy with inner AdministradorSeguretatOrganitzatiuFitxerEntity Entity implementation -->
	<bean id="lopd-administradorSeguretatOrganitzatiuFitxerEntityDao" class="org.springframework.aop.framework.ProxyFactoryBean">
		<property name="target">
			<bean class="com.soffid.iam.addons.lopd.model.AdministradorSeguretatOrganitzatiuFitxerEntityDaoImpl">
				<property name="sessionFactory"><ref bean="sessionFactory"/></property>
				<lookup-method name="getUsuariEntityDao" bean="usuariEntityDao"/>
				<lookup-method name="getFitxerEntityDao" bean="lopd-fitxerEntityDao"/>
				<lookup-method name="getUsuariGrupEntityDao" bean="usuariGrupEntityDao"/>
				<lookup-method name="getAuditoriaEntityDao" bean="auditoriaEntityDao"/>
			</bean>
		</property>
		<property name="proxyInterfaces">
			<value>com.soffid.iam.addons.lopd.model.AdministradorSeguretatOrganitzatiuFitxerEntityDao</value>
		</property>
		<property name="interceptorNames">
			<list>
				<value>hibernateInterceptor</value>
				<value>daoInterceptor-*</value>
			</list>
		</property>
	</bean>

	<!-- ResponsableSeguretatOrganitzatiuFitxerEntity Entity Proxy with inner ResponsableSeguretatOrganitzatiuFitxerEntity Entity implementation -->
	<bean id="lopd-responsableSeguretatOrganitzatiuFitxerEntityDao" class="org.springframework.aop.framework.ProxyFactoryBean">
		<property name="target">
			<bean class="com.soffid.iam.addons.lopd.model.ResponsableSeguretatOrganitzatiuFitxerEntityDaoImpl">
				<property name="sessionFactory"><ref bean="sessionFactory"/></property>
				<lookup-method name="getFitxerEntityDao" bean="lopd-fitxerEntityDao"/>
				<lookup-method name="getUsuariEntityDao" bean="usuariEntityDao"/>
				<lookup-method name="getUsuariGrupEntityDao" bean="usuariGrupEntityDao"/>
				<lookup-method name="getAuditoriaEntityDao" bean="auditoriaEntityDao"/>
			</bean>
		</property>
		<property name="proxyInterfaces">
			<value>com.soffid.iam.addons.lopd.model.ResponsableSeguretatOrganitzatiuFitxerEntityDao</value>
		</property>
		<property name="interceptorNames">
			<list>
				<value>hibernateInterceptor</value>
				<value>daoInterceptor-*</value>
			</list>
		</property>
	</bean>

	<!-- FitxerEntity Entity Proxy with inner FitxerEntity Entity implementation -->
	<bean id="lopd-fitxerEntityDao" class="org.springframework.aop.framework.ProxyFactoryBean">
		<property name="target">
			<bean class="com.soffid.iam.addons.lopd.model.FitxerEntityDaoImpl">
				<property name="sessionFactory"><ref bean="sessionFactory"/></property>
				<lookup-method name="getUsuariEntityDao" bean="usuariEntityDao"/>
				<lookup-method name="getGrupEntityDao" bean="grupEntityDao"/>
				<lookup-method name="getAuditoriaEntityDao" bean="auditoriaEntityDao"/>
				<lookup-method name="getRolFitxerEntityDao" bean="lopd-rolFitxerEntityDao"/>
				<lookup-method name="getAdministradorSeguretatOrganitzatiuFitxerEntityDao" bean="lopd-administradorSeguretatOrganitzatiuFitxerEntityDao"/>
				<lookup-method name="getResponsableSeguretatOrganitzatiuFitxerEntityDao" bean="lopd-responsableSeguretatOrganitzatiuFitxerEntityDao"/>
			</bean>
		</property>
		<property name="proxyInterfaces">
			<value>com.soffid.iam.addons.lopd.model.FitxerEntityDao</value>
		</property>
		<property name="interceptorNames">
			<list>
				<value>hibernateInterceptor</value>
				<value>daoInterceptor-*</value>
			</list>
		</property>
	</bean>

	<!-- ========================= Start of SERVICE DEFINITIONS ========================= -->
	<!-- lopd-lopdService Service Proxy with inner LopdService Service Implementation -->
	<bean id="lopd-lopdService" class="org.springframework.aop.framework.ProxyFactoryBean">
		<property name="target">
			<bean class="com.soffid.iam.addons.lopd.service.LopdServiceImpl">
				<property name="fitxerEntityDao"><ref bean="lopd-fitxerEntityDao"/></property>
				<property name="rolEntityDao"><ref bean="rolEntityDao"/></property>
				<property name="rolFitxerEntityDao"><ref bean="lopd-rolFitxerEntityDao"/></property>
				<property name="responsableSeguretatOrganitzatiuFitxerEntityDao"><ref bean="lopd-responsableSeguretatOrganitzatiuFitxerEntityDao"/></property>
				<property name="administradorSeguretatOrganitzatiuFitxerEntityDao"><ref bean="lopd-administradorSeguretatOrganitzatiuFitxerEntityDao"/></property>
			</bean>
		</property>
		<property name="proxyInterfaces">
			<value>com.soffid.iam.addons.lopd.service.LopdService</value>
		</property>
		<property name="interceptorNames">
			<list>
				<value>serviceTransactionInterceptor</value>
				<value>hibernateInterceptor</value>
				<value>serviceInterceptor-*</value>
			</list>
		</property>
	</bean>

	<!-- ========================= End of SERVICE DEFINITIONS ========================= -->

</beans>
